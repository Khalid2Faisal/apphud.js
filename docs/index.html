<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>apphud.js - v1.0.0</title><meta name="description" content="Documentation for apphud.js"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">apphud.js - v1.0.0</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>apphud.js - v1.0.0</h2></div><div class="tsd-panel tsd-typography"><a id="md:apphudsdk-guide" class="tsd-anchor"></a><h1 class="tsd-anchor-link">ApphudSDK Guide<a href="#md:apphudsdk-guide" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>The <code>ApphudSDK</code> provides a powerful and flexible way to manage in-app purchases, paywalls, placements, and user data for your web application. This guide will walk you through setup, initialization, and key usage scenarios using the SDK, with examples based on the provided sample code.</p>
<hr>
<a id="md:table-of-contents" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Table of Contents<a href="#md:table-of-contents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ol>
<li><a href="#md:installation">Installation</a></li>
<li><a href="#md:sdk-initialization">SDK Initialization</a></li>
<li><a href="#md:event-tracking">Event Tracking</a></li>
<li><a href="#md:user-management">User Management</a></li>
<li><a href="#md:managing-products-and-variables">Managing Products and Variables</a></li>
<li><a href="#md:payment-form-integration">Payment Form Integration</a></li>
<li><a href="#md:handling-placements">Handling Placements</a></li>
<li><a href="#md:working-with-data-aph-var">Apphud Variables</a></li>
<li><a href="#md:listening-to-events-with-apphudon">Listening events</a></li>
</ol>
<hr>
<a id="md:installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#md:installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>To start using the ApphudSDK, include the SDK JavaScript file in your project. You can download the SDK or include it via a <code>&lt;script&gt;</code> tag.</p>
<pre><code class="html"><span class="hl-0">&lt;</span><span class="hl-1">script</span><span class="hl-2"> </span><span class="hl-3">src</span><span class="hl-2">=</span><span class="hl-4">&quot;web-1.0.0.min.js&quot;</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">script</span><span class="hl-0">&gt;</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="md:sdk-initialization" class="tsd-anchor"></a><h2 class="tsd-anchor-link">SDK Initialization<a href="#md:sdk-initialization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The first step is to initialize the SDK with your API key. This must be done as soon as your application starts.</p>
<a id="md:example" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example:<a href="#md:example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-5">await</span><span class="hl-6"> </span><span class="hl-7">apphud</span><span class="hl-6">.</span><span class="hl-8">init</span><span class="hl-6">({</span><br/><span class="hl-6">  </span><span class="hl-7">apiKey:</span><span class="hl-6"> </span><span class="hl-9">&quot;your_api_key_here&quot;</span><span class="hl-6">,</span><br/><span class="hl-6">  </span><span class="hl-7">debug:</span><span class="hl-6"> </span><span class="hl-10">true</span><span class="hl-6">,</span><br/><span class="hl-6">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Parameters:</strong></p>
<ul>
<li><code>apiKey</code>: Your Apphud API key.</li>
<li><code>debug</code>: Enables logging for debugging purposes.</li>
</ul>
<hr>
<a id="md:event-tracking" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Event Tracking<a href="#md:event-tracking" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Use the <code>track</code> method to log user events in your application. You can pass event-specific data as a parameter.</p>
<a id="md:example-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example:<a href="#md:example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>HTML</p>
<pre><code class="html"><span class="hl-0">&lt;</span><span class="hl-1">button</span><span class="hl-6"> </span><span class="hl-3">id</span><span class="hl-6">=</span><span class="hl-4">&quot;track-event&quot;</span><span class="hl-6"> </span><span class="hl-3">data-event-name</span><span class="hl-6">=</span><span class="hl-4">&quot;any-event-name&quot;</span><span class="hl-0">&gt;</span><span class="hl-6">Track!</span><span class="hl-0">&lt;/</span><span class="hl-1">button</span><span class="hl-0">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>JS</p>
<pre><code class="javascript"><span class="hl-7">document</span><span class="hl-6">.</span><span class="hl-8">getElementById</span><span class="hl-6">(</span><span class="hl-9">&#39;track-event&#39;</span><span class="hl-6">).</span><span class="hl-8">addEventListener</span><span class="hl-6">(</span><span class="hl-9">&#39;click&#39;</span><span class="hl-6">, (</span><span class="hl-7">e</span><span class="hl-6">) </span><span class="hl-10">=&gt;</span><span class="hl-6"> {</span><br/><span class="hl-6">  </span><span class="hl-7">apphud</span><span class="hl-6">.</span><span class="hl-8">track</span><span class="hl-6">(</span><span class="hl-9">&#39;button_click&#39;</span><span class="hl-6">, { </span><span class="hl-7">buttonName:</span><span class="hl-6"> </span><span class="hl-7">e</span><span class="hl-6">.</span><span class="hl-7">target</span><span class="hl-6">.</span><span class="hl-7">dataset</span><span class="hl-6">.</span><span class="hl-7">eventName</span><span class="hl-6"> }, { </span><span class="hl-7">age:</span><span class="hl-6"> </span><span class="hl-11">29</span><span class="hl-6"> });</span><br/><span class="hl-6">});</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="md:user-management" class="tsd-anchor"></a><h2 class="tsd-anchor-link">User Management<a href="#md:user-management" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The SDK allows you to manage user details such as email. Use the <code>setEmail</code> method to save a user's email address.</p>
<a id="md:example-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example:<a href="#md:example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>HTML</p>
<pre><code class="html"><span class="hl-0">&lt;</span><span class="hl-1">input</span><span class="hl-6"> </span><span class="hl-3">type</span><span class="hl-6">=</span><span class="hl-4">&quot;email&quot;</span><span class="hl-6"> </span><span class="hl-3">placeholder</span><span class="hl-6">=</span><span class="hl-4">&quot;Email&quot;</span><span class="hl-6"> </span><span class="hl-3">id</span><span class="hl-6">=</span><span class="hl-4">&quot;email-input&quot;</span><span class="hl-6"> </span><span class="hl-0">/&gt;</span><br/><span class="hl-0">&lt;</span><span class="hl-1">button</span><span class="hl-6"> </span><span class="hl-3">id</span><span class="hl-6">=</span><span class="hl-4">&quot;save-email-button&quot;</span><span class="hl-0">&gt;</span><span class="hl-6">Submit</span><span class="hl-0">&lt;/</span><span class="hl-1">button</span><span class="hl-0">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>JS</p>
<pre><code class="javascript"><span class="hl-10">const</span><span class="hl-6"> </span><span class="hl-12">emailInput</span><span class="hl-6"> = </span><span class="hl-7">document</span><span class="hl-6">.</span><span class="hl-8">getElementById</span><span class="hl-6">(</span><span class="hl-9">&#39;email-input&#39;</span><span class="hl-6">);</span><br/><span class="hl-10">const</span><span class="hl-6"> </span><span class="hl-12">saveEmailButton</span><span class="hl-6"> = </span><span class="hl-7">document</span><span class="hl-6">.</span><span class="hl-8">getElementById</span><span class="hl-6">(</span><span class="hl-9">&#39;save-email-button&#39;</span><span class="hl-6">);</span><br/><br/><span class="hl-7">saveEmailButton</span><span class="hl-6">.</span><span class="hl-8">addEventListener</span><span class="hl-6">(</span><span class="hl-9">&#39;click&#39;</span><span class="hl-6">, </span><span class="hl-10">async</span><span class="hl-6"> () </span><span class="hl-10">=&gt;</span><span class="hl-6"> {</span><br/><span class="hl-6">  </span><span class="hl-5">await</span><span class="hl-6"> </span><span class="hl-7">apphud</span><span class="hl-6">.</span><span class="hl-8">setEmail</span><span class="hl-6">(</span><span class="hl-7">emailInput</span><span class="hl-6">.</span><span class="hl-7">value</span><span class="hl-6">);</span><br/><span class="hl-6">});</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="md:managing-products-and-variables" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Managing Products and Variables<a href="#md:managing-products-and-variables" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You can dynamically load and manage product variables and selections using the SDK. Use <code>selectPlacementProduct</code> and <code>operateVariables</code> to handle product updates.</p>
<a id="md:example-3" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example:<a href="#md:example-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>HTML</p>
<pre><code class="html"><span class="hl-0">&lt;</span><span class="hl-1">div</span><span class="hl-6"> </span><span class="hl-3">class</span><span class="hl-6">=</span><span class="hl-4">&quot;products&quot;</span><span class="hl-6"> </span><span class="hl-3">id</span><span class="hl-6">=</span><span class="hl-4">&quot;products&quot;</span><span class="hl-0">&gt;</span><br/><span class="hl-6">  </span><span class="hl-0">&lt;</span><span class="hl-1">button</span><span class="hl-6"> </span><span class="hl-3">class</span><span class="hl-6">=</span><span class="hl-4">&quot;active&quot;</span><span class="hl-6"> </span><span class="hl-3">data-product-index</span><span class="hl-6">=</span><span class="hl-4">&quot;0&quot;</span><span class="hl-0">&gt;</span><br/><span class="hl-6">    </span><span class="hl-0">&lt;</span><span class="hl-1">s</span><span class="hl-0">&gt;&lt;</span><span class="hl-1">span</span><span class="hl-6"> </span><span class="hl-3">class</span><span class="hl-6">=</span><span class="hl-4">&quot;old-price&quot;</span><span class="hl-6"> </span><span class="hl-3">data-aph-var</span><span class="hl-6">=</span><span class="hl-4">&quot;main_web,0,old-price&quot;</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">span</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">s</span><span class="hl-0">&gt;</span><span class="hl-6"> </span><span class="hl-0">&lt;</span><span class="hl-1">span</span><span class="hl-6"> </span><span class="hl-3">data-aph-var</span><span class="hl-6">=</span><span class="hl-4">&quot;main_web,0,new-price&quot;</span><span class="hl-0">&gt;</span><span class="hl-6">$~</span><span class="hl-0">&lt;/</span><span class="hl-1">span</span><span class="hl-0">&gt;</span><br/><span class="hl-6">  </span><span class="hl-0">&lt;/</span><span class="hl-1">button</span><span class="hl-0">&gt;</span><br/><span class="hl-6">  </span><span class="hl-0">&lt;</span><span class="hl-1">button</span><span class="hl-6"> </span><span class="hl-3">data-product-index</span><span class="hl-6">=</span><span class="hl-4">&quot;1&quot;</span><span class="hl-0">&gt;</span><br/><span class="hl-6">    </span><span class="hl-0">&lt;</span><span class="hl-1">s</span><span class="hl-0">&gt;&lt;</span><span class="hl-1">span</span><span class="hl-6"> </span><span class="hl-3">class</span><span class="hl-6">=</span><span class="hl-4">&quot;old-price&quot;</span><span class="hl-6"> </span><span class="hl-3">data-aph-var</span><span class="hl-6">=</span><span class="hl-4">&quot;main_web,1,old-price&quot;</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">span</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">s</span><span class="hl-0">&gt;</span><span class="hl-6"> </span><span class="hl-0">&lt;</span><span class="hl-1">span</span><span class="hl-6"> </span><span class="hl-3">data-aph-var</span><span class="hl-6">=</span><span class="hl-4">&quot;main_web,1,new-price&quot;</span><span class="hl-0">&gt;</span><span class="hl-6">$~</span><span class="hl-0">&lt;/</span><span class="hl-1">span</span><span class="hl-0">&gt;</span><br/><span class="hl-6">  </span><span class="hl-0">&lt;/</span><span class="hl-1">button</span><span class="hl-0">&gt;</span><br/><span class="hl-6">  </span><span class="hl-0">&lt;</span><span class="hl-1">button</span><span class="hl-6"> </span><span class="hl-3">data-product-index</span><span class="hl-6">=</span><span class="hl-4">&quot;2&quot;</span><span class="hl-0">&gt;</span><br/><span class="hl-6">    </span><span class="hl-0">&lt;</span><span class="hl-1">s</span><span class="hl-0">&gt;&lt;</span><span class="hl-1">span</span><span class="hl-6"> </span><span class="hl-3">class</span><span class="hl-6">=</span><span class="hl-4">&quot;old-price&quot;</span><span class="hl-6"> </span><span class="hl-3">data-aph-var</span><span class="hl-6">=</span><span class="hl-4">&quot;main_web,2,old-price&quot;</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">span</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">s</span><span class="hl-0">&gt;</span><span class="hl-6"> </span><span class="hl-0">&lt;</span><span class="hl-1">span</span><span class="hl-6"> </span><span class="hl-3">data-aph-var</span><span class="hl-6">=</span><span class="hl-4">&quot;main_web,2,new-price&quot;</span><span class="hl-0">&gt;</span><span class="hl-6">$~</span><span class="hl-0">&lt;/</span><span class="hl-1">span</span><span class="hl-0">&gt;</span><br/><span class="hl-6">  </span><span class="hl-0">&lt;/</span><span class="hl-1">button</span><span class="hl-0">&gt;</span><br/><span class="hl-0">&lt;/</span><span class="hl-1">div</span><span class="hl-0">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>JS</p>
<pre><code class="javascript"><span class="hl-10">const</span><span class="hl-6"> </span><span class="hl-12">productsContainer</span><span class="hl-6"> = </span><span class="hl-7">document</span><span class="hl-6">.</span><span class="hl-8">getElementById</span><span class="hl-6">(</span><span class="hl-9">&#39;products&#39;</span><span class="hl-6">);</span><br/><span class="hl-10">const</span><span class="hl-6"> </span><span class="hl-12">productButtons</span><span class="hl-6"> = </span><span class="hl-7">productsContainer</span><span class="hl-6">.</span><span class="hl-8">querySelectorAll</span><span class="hl-6">(</span><span class="hl-9">&#39;button&#39;</span><span class="hl-6">);</span><br/><br/><span class="hl-7">productButtons</span><span class="hl-6">.</span><span class="hl-8">forEach</span><span class="hl-6">(</span><span class="hl-7">button</span><span class="hl-6"> </span><span class="hl-10">=&gt;</span><span class="hl-6"> {</span><br/><span class="hl-6">  </span><span class="hl-7">button</span><span class="hl-6">.</span><span class="hl-8">addEventListener</span><span class="hl-6">(</span><span class="hl-9">&#39;click&#39;</span><span class="hl-6">, () </span><span class="hl-10">=&gt;</span><span class="hl-6"> {</span><br/><span class="hl-6">    </span><span class="hl-13">// Update active product</span><br/><span class="hl-6">    </span><span class="hl-7">productButtons</span><span class="hl-6">.</span><span class="hl-8">forEach</span><span class="hl-6">(</span><span class="hl-7">btn</span><span class="hl-6"> </span><span class="hl-10">=&gt;</span><span class="hl-6"> </span><span class="hl-7">btn</span><span class="hl-6">.</span><span class="hl-7">classList</span><span class="hl-6">.</span><span class="hl-8">remove</span><span class="hl-6">(</span><span class="hl-9">&#39;active&#39;</span><span class="hl-6">));</span><br/><span class="hl-6">    </span><span class="hl-7">button</span><span class="hl-6">.</span><span class="hl-7">classList</span><span class="hl-6">.</span><span class="hl-8">add</span><span class="hl-6">(</span><span class="hl-9">&#39;active&#39;</span><span class="hl-6">);</span><br/><br/><span class="hl-6">    </span><span class="hl-13">// Update SDK product and reload variables</span><br/><span class="hl-6">    </span><span class="hl-7">apphud</span><span class="hl-6">.</span><span class="hl-8">selectPlacementProduct</span><span class="hl-6">(</span><span class="hl-7">apphud</span><span class="hl-6">.</span><span class="hl-8">currentPlacement</span><span class="hl-6">().</span><span class="hl-7">identifier</span><span class="hl-6">, </span><span class="hl-7">button</span><span class="hl-6">.</span><span class="hl-7">dataset</span><span class="hl-6">.</span><span class="hl-7">productIndex</span><span class="hl-6">);</span><br/><span class="hl-6">    </span><span class="hl-7">apphud</span><span class="hl-6">.</span><span class="hl-8">operateVariables</span><span class="hl-6">();</span><br/><span class="hl-6">  });</span><br/><span class="hl-6">});</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="md:payment-form-integration" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Payment Form Integration<a href="#md:payment-form-integration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>paymentForm</code> method is used to display the payment form for the selected product.</p>
<a id="md:example-4" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example:<a href="#md:example-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>HTML</p>
<pre><code class="html"><span class="hl-0">&lt;</span><span class="hl-1">form</span><span class="hl-6"> </span><span class="hl-3">id</span><span class="hl-6">=</span><span class="hl-4">&quot;apphud-payment-form&quot;</span><span class="hl-0">&gt;</span><br/><span class="hl-6">    </span><span class="hl-0">&lt;</span><span class="hl-1">div</span><span class="hl-6"> </span><span class="hl-3">id</span><span class="hl-6">=</span><span class="hl-4">&quot;payment-element&quot;</span><span class="hl-0">&gt;</span><br/><span class="hl-6">        </span><span class="hl-13">&lt;!-- here will be printed form from payment provider like stripe / paddle --&gt;</span><br/><span class="hl-6">    </span><span class="hl-0">&lt;/</span><span class="hl-1">div</span><span class="hl-0">&gt;</span><br/><span class="hl-6">    </span><span class="hl-0">&lt;</span><span class="hl-1">button</span><span class="hl-6"> </span><span class="hl-3">id</span><span class="hl-6">=</span><span class="hl-4">&quot;submit&quot;</span><span class="hl-0">&gt;</span><span class="hl-6">Subscribe</span><span class="hl-0">&lt;/</span><span class="hl-1">button</span><span class="hl-0">&gt;</span><br/><span class="hl-6">    </span><span class="hl-0">&lt;</span><span class="hl-1">div</span><span class="hl-6"> </span><span class="hl-3">id</span><span class="hl-6">=</span><span class="hl-4">&quot;error-message&quot;</span><span class="hl-0">&gt;</span><br/><span class="hl-6">        </span><span class="hl-13">&lt;!-- here will be printed form validation errors --&gt;</span><br/><span class="hl-6">    </span><span class="hl-0">&lt;/</span><span class="hl-1">div</span><span class="hl-0">&gt;</span><br/><span class="hl-0">&lt;/</span><span class="hl-1">form</span><span class="hl-0">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>JS</p>
<pre><code class="javascript"><span class="hl-7">apphud</span><span class="hl-6">.</span><span class="hl-8">paymentForm</span><span class="hl-6">();</span>
</code><button type="button">Copy</button></pre>

<p><strong>Optional parameters:</strong></p>
<ul>
<li><code>successUrl</code>: Redirect URL after successful payment.</li>
<li><code>failureUrl</code>: Redirect URL after payment failure.</li>
</ul>
<hr>
<a id="md:handling-placements" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Handling Placements<a href="#md:handling-placements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Placements are used to group products and paywalls. Use <code>currentPlacement</code> and related methods to manage placements.</p>
<a id="md:example-5" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example:<a href="#md:example-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-10">const</span><span class="hl-6"> </span><span class="hl-12">currentPlacement</span><span class="hl-6"> = </span><span class="hl-7">apphud</span><span class="hl-6">.</span><span class="hl-8">currentPlacement</span><span class="hl-6">();</span><br/><span class="hl-7">console</span><span class="hl-6">.</span><span class="hl-8">log</span><span class="hl-6">(</span><span class="hl-9">&quot;Current placement:&quot;</span><span class="hl-6">, </span><span class="hl-7">currentPlacement</span><span class="hl-6">.</span><span class="hl-7">identifier</span><span class="hl-6">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:working-with-data-aph-var" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Working with <code>data-aph-var</code><a href="#md:working-with-data-aph-var" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>data-aph-var</code> attribute in the Apphud SDK allows you to dynamically display variables from selected products or specific placements. This is especially useful for personalizing the user interface with real-time product details such as prices, descriptions, or other properties.</p>
<a id="md:syntax" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Syntax<a href="#md:syntax" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The syntax for <code>data-aph-var</code> is:</p>
<pre><code><span class="hl-7">data</span><span class="hl-6">-</span><span class="hl-7">aph</span><span class="hl-6">-</span><span class="hl-10">var</span><span class="hl-6">=</span><span class="hl-9">&quot;placement_identifier,productIndex,varName&quot;</span>
</code><button>Copy</button></pre>

<p><strong>Parameters:</strong></p>
<ul>
<li><code>placement_identifier</code> <em>(string)</em>: The identifier of the placement where the product resides.
<ul>
<li>Omit this value if you want to work with the currently selected placement.</li>
</ul>
</li>
<li><code>productIndex</code> <em>(number)</em>: The index of the product within the placement.
<ul>
<li>Use <code>-1</code> to refer to the currently selected product.</li>
</ul>
</li>
<li><code>varName</code> <em>(string)</em>: The name of the variable to display.</li>
</ul>
<a id="md:displaying-variables-from-the-selected-product" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Displaying Variables from the Selected Product<a href="#md:displaying-variables-from-the-selected-product" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To display a variable from the currently selected product, set <code>placement_identifier</code> to an empty string or omit it, and set <code>productIndex</code> to <code>-1</code>. For example:</p>
<pre><code class="html"><span class="hl-0">&lt;</span><span class="hl-1">span</span><span class="hl-6"> </span><span class="hl-3">data-aph-var</span><span class="hl-6">=</span><span class="hl-4">&quot;,-1,varName&quot;</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">span</span><span class="hl-0">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>In this example:</p>
<ul>
<li><code>varName</code> will be replaced by the corresponding variable value from the selected product.</li>
</ul>
<a id="md:example-usage" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example Usage<a href="#md:example-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Here’s an example of how you might use <code>data-aph-var</code> in your HTML:</p>
<pre><code class="html"><span class="hl-0">&lt;</span><span class="hl-1">div</span><span class="hl-0">&gt;</span><br/><span class="hl-6">  </span><span class="hl-0">&lt;</span><span class="hl-1">p</span><span class="hl-0">&gt;</span><span class="hl-6">Old Price: </span><span class="hl-0">&lt;</span><span class="hl-1">span</span><span class="hl-6"> </span><span class="hl-3">data-aph-var</span><span class="hl-6">=</span><span class="hl-4">&quot;,-1,old-price&quot;</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">span</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">p</span><span class="hl-0">&gt;</span><br/><span class="hl-6">  </span><span class="hl-0">&lt;</span><span class="hl-1">p</span><span class="hl-0">&gt;</span><span class="hl-6">New Price: </span><span class="hl-0">&lt;</span><span class="hl-1">span</span><span class="hl-6"> </span><span class="hl-3">data-aph-var</span><span class="hl-6">=</span><span class="hl-4">&quot;,-1,new-price&quot;</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">span</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">p</span><span class="hl-0">&gt;</span><br/><span class="hl-0">&lt;/</span><span class="hl-1">div</span><span class="hl-0">&gt;</span>
</code><button type="button">Copy</button></pre>

<a id="md:displaying-variables-from-a-specific-product" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Displaying Variables from a Specific Product<a href="#md:displaying-variables-from-a-specific-product" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If you want to display a variable from a specific product (rather than the currently selected one), specify the <code>placement_identifier</code> and <code>productIndex</code>. For example:</p>
<pre><code class="html"><span class="hl-0">&lt;</span><span class="hl-1">div</span><span class="hl-0">&gt;</span><br/><span class="hl-6">  </span><span class="hl-0">&lt;</span><span class="hl-1">p</span><span class="hl-0">&gt;</span><span class="hl-6">Old Price: </span><span class="hl-0">&lt;</span><span class="hl-1">span</span><span class="hl-6"> </span><span class="hl-3">data-aph-var</span><span class="hl-6">=</span><span class="hl-4">&quot;main_web,0,old-price&quot;</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">span</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">p</span><span class="hl-0">&gt;</span><br/><span class="hl-6">  </span><span class="hl-0">&lt;</span><span class="hl-1">p</span><span class="hl-0">&gt;</span><span class="hl-6">New Price: </span><span class="hl-0">&lt;</span><span class="hl-1">span</span><span class="hl-6"> </span><span class="hl-3">data-aph-var</span><span class="hl-6">=</span><span class="hl-4">&quot;main_web,0,new-price&quot;</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">span</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">p</span><span class="hl-0">&gt;</span><br/><span class="hl-0">&lt;/</span><span class="hl-1">div</span><span class="hl-0">&gt;</span>
</code><button type="button">Copy</button></pre>

<a id="md:dynamic-updates" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Dynamic Updates<a href="#md:dynamic-updates" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The Apphud SDK provides the method <code>apphud.operateVariables()</code> to automatically update all elements with <code>data-aph-var</code> attributes based on the current state. Call this method after changing the selected product to refresh the displayed variables.</p>
<a id="md:example-javascript" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example JavaScript<a href="#md:example-javascript" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Here’s an example of updating variables dynamically when the product is changed:</p>
<pre><code class="javascript"><span class="hl-13">// Update variables after selecting a product</span><br/><span class="hl-7">apphud</span><span class="hl-6">.</span><span class="hl-8">selectPlacementProduct</span><span class="hl-6">(</span><span class="hl-9">&quot;main_web&quot;</span><span class="hl-6">, </span><span class="hl-11">1</span><span class="hl-6">); </span><span class="hl-13">// Select a product</span><br/><span class="hl-7">apphud</span><span class="hl-6">.</span><span class="hl-8">operateVariables</span><span class="hl-6">(); </span><span class="hl-13">// Refresh displayed variables</span>
</code><button type="button">Copy</button></pre>

<p>By using <code>data-aph-var</code> effectively, you can create a highly dynamic and personalized user experience by displaying product-specific data in real-time.</p>
<a id="md:listening-to-events-with-apphudon" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Listening to Events with <code>apphud.on</code><a href="#md:listening-to-events-with-apphudon" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>apphud.on</code> method allows you to listen for lifecycle events emitted by the Apphud SDK. This is useful for reacting to specific moments in the SDK's lifecycle, such as when it has been initialized or when a payment form is ready.</p>
<a id="md:syntax-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Syntax<a href="#md:syntax-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-7">apphud</span><span class="hl-6">.</span><span class="hl-8">on</span><span class="hl-6">(</span><span class="hl-7">eventName</span><span class="hl-6">, </span><span class="hl-7">callback</span><span class="hl-6">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>Parameters:</strong></p>
<ul>
<li><code>eventName</code> <em>(string)</em>: The name of the lifecycle event you want to listen to.</li>
<li><code>callback</code> <em>(function)</em>: The function to execute when the event is emitted. The callback receives an event object as its parameter.</li>
</ul>
<a id="md:available-events" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Available Events<a href="#md:available-events" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The following lifecycle events can be listened to:</p>
<ul>
<li><strong><code>&quot;ready&quot;</code></strong>: Triggered when the SDK is fully initialized and ready to use.</li>
<li><strong><code>&quot;payment_form_initialized&quot;</code></strong>: Triggered when the payment form has been successfully initialized.</li>
<li><strong><code>&quot;payment_form_ready&quot;</code></strong>: Triggered when the payment form is fully ready and displayed to the user.</li>
<li><strong><code>&quot;payment_success&quot;</code></strong>: Triggered after a successful payment.</li>
<li><strong><code>&quot;payment_failure&quot;</code></strong>: Triggered when a payment fails.</li>
<li><strong><code>&quot;product_changed&quot;</code></strong>: Triggered when user chooses product.</li>
</ul>
<a id="md:example-usage-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example Usage<a href="#md:example-usage-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Here’s an example of how to listen for events and handle them using <code>apphud.on</code>:</p>
<pre><code class="javascript"><span class="hl-13">// Listen for when the SDK is initialized</span><br/><span class="hl-7">apphud</span><span class="hl-6">.</span><span class="hl-8">on</span><span class="hl-6">(</span><span class="hl-9">&quot;ready&quot;</span><span class="hl-6">, () </span><span class="hl-10">=&gt;</span><span class="hl-6"> {</span><br/><span class="hl-6">  </span><span class="hl-7">console</span><span class="hl-6">.</span><span class="hl-8">log</span><span class="hl-6">(</span><span class="hl-9">&quot;Apphud SDK ready!&quot;</span><span class="hl-6">);</span><br/><span class="hl-6">  </span><span class="hl-13">// You can start using SDK methods now</span><br/><span class="hl-6">});</span><br/><br/><span class="hl-13">// Listen for when the payment form is ready</span><br/><span class="hl-7">apphud</span><span class="hl-6">.</span><span class="hl-8">on</span><span class="hl-6">(</span><span class="hl-9">&quot;payment_form_ready&quot;</span><span class="hl-6">, (</span><span class="hl-7">event</span><span class="hl-6">) </span><span class="hl-10">=&gt;</span><span class="hl-6"> {</span><br/><span class="hl-6">  </span><span class="hl-7">console</span><span class="hl-6">.</span><span class="hl-8">log</span><span class="hl-6">(</span><span class="hl-9">&quot;Payment form is ready:&quot;</span><span class="hl-6">, </span><span class="hl-7">event</span><span class="hl-6">);</span><br/><span class="hl-6">});</span><br/><br/><span class="hl-13">// Listen for successful payments</span><br/><span class="hl-7">apphud</span><span class="hl-6">.</span><span class="hl-8">on</span><span class="hl-6">(</span><span class="hl-9">&quot;payment_success&quot;</span><span class="hl-6">, (</span><span class="hl-7">event</span><span class="hl-6">) </span><span class="hl-10">=&gt;</span><span class="hl-6"> {</span><br/><span class="hl-6">  </span><span class="hl-7">console</span><span class="hl-6">.</span><span class="hl-8">log</span><span class="hl-6">(</span><span class="hl-9">&quot;Payment was successful:&quot;</span><span class="hl-6">, </span><span class="hl-7">event</span><span class="hl-6">);</span><br/><span class="hl-6">  </span><span class="hl-8">alert</span><span class="hl-6">(</span><span class="hl-9">&quot;Thank you for your purchase!&quot;</span><span class="hl-6">);</span><br/><span class="hl-6">});</span><br/><br/><span class="hl-13">// Listen for failed payments</span><br/><span class="hl-7">apphud</span><span class="hl-6">.</span><span class="hl-8">on</span><span class="hl-6">(</span><span class="hl-9">&quot;payment_failure&quot;</span><span class="hl-6">, (</span><span class="hl-7">event</span><span class="hl-6">) </span><span class="hl-10">=&gt;</span><span class="hl-6"> {</span><br/><span class="hl-6">  </span><span class="hl-7">console</span><span class="hl-6">.</span><span class="hl-8">error</span><span class="hl-6">(</span><span class="hl-9">&quot;Payment failed:&quot;</span><span class="hl-6">, </span><span class="hl-7">event</span><span class="hl-6">);</span><br/><span class="hl-6">  </span><span class="hl-8">alert</span><span class="hl-6">(</span><span class="hl-9">&quot;Unfortunately, the payment failed. Please try again.&quot;</span><span class="hl-6">);</span><br/><span class="hl-6">});</span>
</code><button type="button">Copy</button></pre>

<p>By using these event listeners, you can create a seamless user experience by responding dynamically to changes in the Apphud SDK lifecycle.</p>
<hr>
<a id="md:debugging" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Debugging<a href="#md:debugging" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Enable debugging by setting <code>debug: true</code> during initialization. Logs will appear in the browser console.</p>
<hr>
<p>This guide provides an overview of how to use the ApphudSDK for common tasks. For advanced features and configurations, refer to the SDK’s full API documentation.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:apphudsdk-guide"><span>ApphudSDK <wbr/>Guide</span></a><ul><li><a href="#md:table-of-contents"><span>Table of <wbr/>Contents</span></a></li><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:sdk-initialization"><span>SDK <wbr/>Initialization</span></a></li><li><ul><li><a href="#md:example"><span>Example:</span></a></li></ul></li><li><a href="#md:event-tracking"><span>Event <wbr/>Tracking</span></a></li><li><ul><li><a href="#md:example-1"><span>Example:</span></a></li></ul></li><li><a href="#md:user-management"><span>User <wbr/>Management</span></a></li><li><ul><li><a href="#md:example-2"><span>Example:</span></a></li></ul></li><li><a href="#md:managing-products-and-variables"><span>Managing <wbr/>Products and <wbr/>Variables</span></a></li><li><ul><li><a href="#md:example-3"><span>Example:</span></a></li></ul></li><li><a href="#md:payment-form-integration"><span>Payment <wbr/>Form <wbr/>Integration</span></a></li><li><ul><li><a href="#md:example-4"><span>Example:</span></a></li></ul></li><li><a href="#md:handling-placements"><span>Handling <wbr/>Placements</span></a></li><li><ul><li><a href="#md:example-5"><span>Example:</span></a></li></ul></li><li><a href="#md:working-with-data-aph-var"><span>Working with data-<wbr/>aph-<wbr/>var</span></a></li><li><ul><li><a href="#md:syntax"><span>Syntax</span></a></li><li><a href="#md:displaying-variables-from-the-selected-product"><span>Displaying <wbr/>Variables from the <wbr/>Selected <wbr/>Product</span></a></li><li><a href="#md:example-usage"><span>Example <wbr/>Usage</span></a></li><li><a href="#md:displaying-variables-from-a-specific-product"><span>Displaying <wbr/>Variables from a <wbr/>Specific <wbr/>Product</span></a></li><li><a href="#md:dynamic-updates"><span>Dynamic <wbr/>Updates</span></a></li><li><a href="#md:example-javascript"><span>Example <wbr/>Java<wbr/>Script</span></a></li></ul></li><li><a href="#md:listening-to-events-with-apphudon"><span>Listening to <wbr/>Events with apphud.on</span></a></li><li><ul><li><a href="#md:syntax-1"><span>Syntax</span></a></li><li><a href="#md:available-events"><span>Available <wbr/>Events</span></a></li><li><a href="#md:example-usage-1"><span>Example <wbr/>Usage</span></a></li></ul></li><li><a href="#md:debugging"><span>Debugging</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>apphud.js - v1.0.0</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
