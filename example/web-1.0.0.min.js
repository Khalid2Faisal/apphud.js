window.ApphudSDKVersion="1.0.0",function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).apphud=t()}(this,(function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},e.apply(this,arguments)};function t(e,t,r,i){return new(r||(r=Promise))((function(n,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))}function r(e,t){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=a.trys,(n=n.length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}"function"==typeof SuppressedError&&SuppressedError;var i=function(e,t,r){var i="";if(r){var n=new Date;n.setTime(n.getTime()+60*r*1e3),i="; expires="+n.toGMTString()}document.cookie=e+"="+encodeURIComponent(t)+i+"; path=/; samesite=lax"},n=function(e){var t,r,i=e+"=",n=document.cookie.split(";");for(t=0;t<n.length;t++){for(r=n[t];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(i))return decodeURIComponent(r.substring(i.length,r.length))}return null},o=function(e){i(e,"",-1)},a={apiKey:"",_baseURL:"https://api.apphud.com/v1",debug:!1,websiteVersion:"0.0.1",httpRetriesCount:3,language:"en",httpRetryDelay:1e3,redirectDelay:1e3,headers:{},_stripeLiveKey:"pk_live_4iYTlDlSJeqsh5ZAZNuDsLte004vt1l4tS",_stripeTestKey:"pk_test_leENTjttGVwRY2ZkCk0UaaiG00oeNHfn4o"},s="undefined"!=typeof JSON&&void 0!==JSON.stringify,u=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];a.debug&&(e=window.console).log.apply(e,t)},c=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(e=window.console).error.apply(e,t)},l=function(e){"interactive"===document.readyState||"complete"===document.readyState?setTimeout(e,0):document.addEventListener("DOMContentLoaded",e)},d=function(e){return t(void 0,void 0,void 0,(function(){var t,i,n;return r(this,(function(r){switch(r.label){case 0:return t=new TextEncoder,i=t.encode(e),[4,crypto.subtle.digest("SHA-256",i)];case 1:return n=r.sent(),[2,Array.from(new Uint8Array(n)).map((function(e){return e.toString(16).padStart(2,"0")})).join("")]}}))}))},p=function(e){return new Promise((function(t){return setTimeout(t,e)}))},h=l,f=function(){return window.crypto&&window.crypto.randomUUID?window.crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},m=function(){return navigator.language},b=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},v=function(){var e=navigator.language;return new Intl.NumberFormat(e,{style:"currency",currency:"USD"}).resolvedOptions().currency},w=function(){var e=Intl.DateTimeFormat().resolvedOptions().locale;return(e.split("-")[1]||e.split("-")[0]).toUpperCase()},y=function(){var e=navigator.userAgent,t="Unknown OS Version";if(-1!==e.indexOf("Windows NT")){var r=e.match(/Windows NT (\d+\.\d+)/);r&&(t="Windows "+r[1])}else if(-1!==e.indexOf("Mac OS X")){var i=e.match(/Mac OS X (\d+_\d+(_\d+)?)/);i&&(t="macOS "+i[1].replace(/_/g,"."))}else if(-1!==e.indexOf("iPhone OS")||-1!==e.indexOf("iPad; CPU OS")){var n=e.match(/OS (\d+_\d+(_\d+)?)/);n&&(t="iOS "+n[1].replace(/_/g,"."))}else if(-1!==e.indexOf("Android")){var o=e.match(/Android (\d+\.\d+(\.\d+)?)/);o&&(t="Android "+o[1])}else-1!==e.indexOf("Linux")&&(t="Linux");return t},g=function(){return(new Date).getTime()/1e3},_=function(e,t){return e=e[a.language]||e.en,t.split(".").reduce((function(e,t){return e&&e[t]}),e)},x={userUrl:a._baseURL+"/customers",eventUrl:a._baseURL+"/events",attributionUrl:function(e){return a._baseURL+"/customers/attribution?device_id="+e},paymentIntentUrl:function(e){return a._baseURL+"/payment_providers/:id/payment_intent".replace(":id",e)},subscribeUrl:function(e){return a._baseURL+"/payment_providers/:id/subscriptions".replace(":id",e)}},P=function(i,n,o){return t(void 0,void 0,void 0,(function(){function s(u){return t(this,void 0,void 0,(function(){var t,c,l,d,h;return r(this,(function(r){switch(r.label){case 0:t=a.httpRetryDelay||1e3,c=e({"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(a.apiKey)},a.headers),l={method:i,headers:c,credentials:"same-origin"},"POST"!==i&&"PUT"!==i||!o||(l.body=JSON.stringify(o)),r.label=1;case 1:return r.trys.push([1,4,,8]),[4,fetch(n,l)];case 2:if(!(d=r.sent()).ok)throw new Error("Network response was not ok");return[4,d.json()];case 3:return[2,r.sent()];case 4:return h=r.sent(),console.error("Attempt failed:",h),u<(a.httpRetriesCount||3)?[4,p(t)]:[3,6];case 5:return r.sent(),t*=2,[2,s(u+1)];case 6:throw console.error("All retries failed."),h;case 7:return[3,8];case 8:return[2]}}))}))}return r(this,(function(e){switch(e.label){case 0:return[4,s(0)];case 1:return[2,e.sent()]}}))}))},E=function(e){return t(void 0,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,P("POST",x.userUrl,e)];case 1:return[2,t.sent().data.results]}}))}))},S=function(e){return t(void 0,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,P("POST",x.eventUrl,e)];case 1:return[2,t.sent().data.results]}}))}))},k=function(){return{"X-SDK":"web2web","X-SDK-VERSION":window.ApphudSDKVersion,"X-Platform":"web2web","X-Store":"web2web","Content-Type":"application/json; charset=utf-8"}},O=function(e,i){return t(void 0,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,P("POST",x.subscribeUrl(e),i)];case 1:return[2,t.sent().data.results]}}))}))},T=function(e,i){return t(void 0,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,P("POST",x.attributionUrl(e),i)];case 1:return[2,t.sent().data.results]}}))}))},A="aph_start_version",D="aph_user_id",I="aph_events",U=1051200,C="data-aph-var",L="#apphud-payment-form",j="aph_selected_product_index",N="aph_deep_link_url",R=1051200,q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function z(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var M={exports:{}};!function(e,t){!function(r,i){var n="function",o="undefined",a="object",s="string",u="major",c="model",l="name",d="type",p="vendor",h="version",f="architecture",m="console",b="mobile",v="tablet",w="smarttv",y="wearable",g="embedded",_="Amazon",x="Apple",P="ASUS",E="BlackBerry",S="Browser",k="Chrome",O="Firefox",T="Google",A="Huawei",D="LG",I="Microsoft",U="Motorola",C="Opera",L="Samsung",j="Sharp",N="Sony",R="Xiaomi",q="Zebra",z="Facebook",M="Chromium OS",K="Mac OS",B=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},V=function(e,t){return typeof e===s&&-1!==F(t).indexOf(F(e))},F=function(e){return e.toLowerCase()},G=function(e,t){if(typeof e===s)return e=e.replace(/^\s\s*/,""),typeof t===o?e:e.substring(0,500)},H=function(e,t){for(var r,o,s,u,c,l,d=0;d<t.length&&!c;){var p=t[d],h=t[d+1];for(r=o=0;r<p.length&&!c&&p[r];)if(c=p[r++].exec(e))for(s=0;s<h.length;s++)l=c[++o],typeof(u=h[s])===a&&u.length>0?2===u.length?typeof u[1]==n?this[u[0]]=u[1].call(this,l):this[u[0]]=u[1]:3===u.length?typeof u[1]!==n||u[1].exec&&u[1].test?this[u[0]]=l?l.replace(u[1],u[2]):i:this[u[0]]=l?u[1].call(this,l,u[2]):i:4===u.length&&(this[u[0]]=l?u[3].call(this,l.replace(u[1],u[2])):i):this[u]=l||i;d+=2}},Y=function(e,t){for(var r in t)if(typeof t[r]===a&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(V(t[r][n],e))return"?"===r?i:r}else if(V(t[r],e))return"?"===r?i:r;return e},Q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},W={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[h,[l,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[h,[l,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[l,h],[/opios[\/ ]+([\w\.]+)/i],[h,[l,C+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[h,[l,C+" GX"]],[/\bopr\/([\w\.]+)/i],[h,[l,C]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[h,[l,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[l,h],[/\bddg\/([\w\.]+)/i],[h,[l,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[h,[l,"UC"+S]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[h,[l,"WeChat"]],[/konqueror\/([\w\.]+)/i],[h,[l,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[h,[l,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[h,[l,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[h,[l,"Smart Lenovo "+S]],[/(avast|avg)\/([\w\.]+)/i],[[l,/(.+)/,"$1 Secure "+S],h],[/\bfocus\/([\w\.]+)/i],[h,[l,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[h,[l,C+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[h,[l,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[h,[l,"Dolphin"]],[/coast\/([\w\.]+)/i],[h,[l,C+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[h,[l,"MIUI "+S]],[/fxios\/([-\w\.]+)/i],[h,[l,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[l,"360 "+S]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[l,/(.+)/,"$1 "+S],h],[/samsungbrowser\/([\w\.]+)/i],[h,[l,L+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],h],[/metasr[\/ ]?([\d\.]+)/i],[h,[l,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[l,"Sogou Mobile"],h],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[l,h],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[l],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[l,z],h],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[l,h],[/\bgsa\/([\w\.]+) .*safari\//i],[h,[l,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[h,[l,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[h,[l,k+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[l,k+" WebView"],h],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[h,[l,"Android "+S]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[l,h],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[h,[l,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[h,l],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[l,[h,Y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[l,h],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[l,"Netscape"],h],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[h,[l,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[l,h],[/(cobalt)\/([\w\.]+)/i],[l,[h,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,F]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[f,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[f,"armhf"]],[/windows (ce|mobile); ppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[f,/ower/,"",F]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[f,F]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[p,L],[d,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[p,L],[d,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[p,x],[d,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[p,x],[d,v]],[/(macintosh);/i],[c,[p,x]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[p,j],[d,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[p,A],[d,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[p,A],[d,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[p,R],[d,b]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[p,R],[d,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[p,"OPPO"],[d,b]],[/\b(opd2\d{3}a?) bui/i],[c,[p,"OPPO"],[d,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[p,"Vivo"],[d,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[c,[p,"Realme"],[d,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[p,U],[d,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[p,U],[d,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[p,D],[d,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[p,D],[d,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[p,"Lenovo"],[d,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[p,"Nokia"],[d,b]],[/(pixel c)\b/i],[c,[p,T],[d,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[p,T],[d,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[p,N],[d,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[p,N],[d,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[p,"OnePlus"],[d,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[p,_],[d,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[p,_],[d,b]],[/(playbook);[-\w\),; ]+(rim)/i],[c,p,[d,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[p,E],[d,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[p,P],[d,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[p,P],[d,b]],[/(nexus 9)/i],[c,[p,"HTC"],[d,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[c,/_/g," "],[d,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[p,"Acer"],[d,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[p,"Meizu"],[d,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[c,[p,"Ulefone"],[d,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,c,[d,b]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,c,[d,v]],[/(surface duo)/i],[c,[p,I],[d,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[p,"Fairphone"],[d,b]],[/(u304aa)/i],[c,[p,"AT&T"],[d,b]],[/\bsie-(\w*)/i],[c,[p,"Siemens"],[d,b]],[/\b(rct\w+) b/i],[c,[p,"RCA"],[d,v]],[/\b(venue[\d ]{2,7}) b/i],[c,[p,"Dell"],[d,v]],[/\b(q(?:mv|ta)\w+) b/i],[c,[p,"Verizon"],[d,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[p,"Barnes & Noble"],[d,v]],[/\b(tm\d{3}\w+) b/i],[c,[p,"NuVision"],[d,v]],[/\b(k88) b/i],[c,[p,"ZTE"],[d,v]],[/\b(nx\d{3}j) b/i],[c,[p,"ZTE"],[d,b]],[/\b(gen\d{3}) b.+49h/i],[c,[p,"Swiss"],[d,b]],[/\b(zur\d{3}) b/i],[c,[p,"Swiss"],[d,v]],[/\b((zeki)?tb.*\b) b/i],[c,[p,"Zeki"],[d,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],c,[d,v]],[/\b(ns-?\w{0,9}) b/i],[c,[p,"Insignia"],[d,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[p,"NextBook"],[d,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],c,[d,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],c,[d,b]],[/\b(ph-1) /i],[c,[p,"Essential"],[d,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[p,"Envizen"],[d,v]],[/\b(trio[-\w\. ]+) b/i],[c,[p,"MachSpeed"],[d,v]],[/\btu_(1491) b/i],[c,[p,"Rotor"],[d,v]],[/(shield[\w ]+) b/i],[c,[p,"Nvidia"],[d,v]],[/(sprint) (\w+)/i],[p,c,[d,b]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[p,I],[d,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[p,q],[d,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[p,q],[d,b]],[/smart-tv.+(samsung)/i],[p,[d,w]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[p,L],[d,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,D],[d,w]],[/(apple) ?tv/i],[p,[c,x+" TV"],[d,w]],[/crkey/i],[[c,k+"cast"],[p,T],[d,w]],[/droid.+aft(\w+)( bui|\))/i],[c,[p,_],[d,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[p,j],[d,w]],[/(bravia[\w ]+)( bui|\))/i],[c,[p,N],[d,w]],[/(mitv-\w{5}) bui/i],[c,[p,R],[d,w]],[/Hbbtv.*(technisat) (.*);/i],[p,c,[d,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,G],[c,G],[d,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,c,[d,m]],[/droid.+; (shield) bui/i],[c,[p,"Nvidia"],[d,m]],[/(playstation [345portablevi]+)/i],[c,[p,N],[d,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[p,I],[d,m]],[/((pebble))app/i],[p,c,[d,y]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[p,x],[d,y]],[/droid.+; (glass) \d/i],[c,[p,T],[d,y]],[/droid.+; (wt63?0{2,3})\)/i],[c,[p,q],[d,y]],[/(quest( \d| pro)?)/i],[c,[p,z],[d,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[d,g]],[/(aeobc)\b/i],[c,[p,_],[d,g]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[c,[d,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[d,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,b]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[h,[l,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[h,[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[l,h],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[h,l]],os:[[/microsoft (windows) (vista|xp)/i],[l,h],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[l,[h,Y,Q]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,Y,Q],[l,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[h,/_/g,"."],[l,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[l,K],[h,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[h,l],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[l,h],[/\(bb(10);/i],[h,[l,E]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[h,[l,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[h,[l,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[h,[l,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[h,[l,"watchOS"]],[/crkey\/([\d\.]+)/i],[h,[l,k+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[l,M],h],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[l,h],[/(sunos) ?([\w\.\d]*)/i],[[l,"Solaris"],h],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[l,h]]},X=function(e,t){if(typeof e===a&&(t=e,e=i),!(this instanceof X))return new X(e,t).getResult();var m=typeof r!==o&&r.navigator?r.navigator:i,w=e||(m&&m.userAgent?m.userAgent:""),y=m&&m.userAgentData?m.userAgentData:i,g=t?function(e,t){var r={};for(var i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r}(W,t):W,_=m&&m.userAgent==w;return this.getBrowser=function(){var e,t={};return t[l]=i,t[h]=i,H.call(t,w,g.browser),t[u]=typeof(e=t[h])===s?e.replace(/[^\d\.]/g,"").split(".")[0]:i,_&&m&&m.brave&&typeof m.brave.isBrave==n&&(t[l]="Brave"),t},this.getCPU=function(){var e={};return e[f]=i,H.call(e,w,g.cpu),e},this.getDevice=function(){var e={};return e[p]=i,e[c]=i,e[d]=i,H.call(e,w,g.device),_&&!e[d]&&y&&y.mobile&&(e[d]=b),_&&"Macintosh"==e[c]&&m&&typeof m.standalone!==o&&m.maxTouchPoints&&m.maxTouchPoints>2&&(e[c]="iPad",e[d]=v),e},this.getEngine=function(){var e={};return e[l]=i,e[h]=i,H.call(e,w,g.engine),e},this.getOS=function(){var e={};return e[l]=i,e[h]=i,H.call(e,w,g.os),_&&!e[l]&&y&&y.platform&&"Unknown"!=y.platform&&(e[l]=y.platform.replace(/chrome os/i,M).replace(/macos/i,K)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return w},this.setUA=function(e){return w=typeof e===s&&e.length>500?G(e,500):e,this},this.setUA(w),this};X.VERSION="1.0.38",X.BROWSER=B([l,h,u]),X.CPU=B([f]),X.DEVICE=B([c,p,d,m,b,w,v,y,g]),X.ENGINE=X.OS=B([l,h]),e.exports&&(t=e.exports=X),t.UAParser=X;var J=typeof r!==o&&(r.jQuery||r.Zepto);if(J&&!J.ua){var Z=new X;J.ua=Z.getResult(),J.ua.get=function(){return Z.getUA()},J.ua.set=function(e){Z.setUA(e);var t=Z.getResult();for(var r in t)J.ua[r]=t[r]}}}("object"==typeof window?window:q)}(M,M.exports);var K,B=z(M.exports),V="https://js.stripe.com/v3",F=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,G="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",H=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(V).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},Y=null,Q=null,W=null,X=function(e){return null!==Y?Y:(Y=new Promise((function(t,r){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe&&e&&console.warn(G),window.Stripe)t(window.Stripe);else try{var i=function(){for(var e=document.querySelectorAll('script[src^="'.concat(V,'"]')),t=0;t<e.length;t++){var r=e[t];if(F.test(r.src))return r}return null}();if(i&&e)console.warn(G);else if(i){if(i&&null!==W&&null!==Q){var n;i.removeEventListener("load",W),i.removeEventListener("error",Q),null===(n=i.parentNode)||void 0===n||n.removeChild(i),i=H(e)}}else i=H(e);W=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,r),Q=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(r),i.addEventListener("load",W),i.addEventListener("error",Q)}catch(e){return void r(e)}else t(null)}))).catch((function(e){return Y=null,Promise.reject(e)}))},J=!1,Z=function(){return K||(K=X(null).catch((function(e){return K=null,Promise.reject(e)})))};Promise.resolve().then((function(){return Z()})).catch((function(e){J||console.warn(e)}));var $=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];J=!0;var i=Date.now();return Z().then((function(e){return function(e,t,r){if(null===e)return null;var i=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"4.4.0",startTime:t})}(i,r),i}(e,t,i)}))},ee=function(){function e(e,i,n,o){var s=this;this.user=e,this.providerId=i,this.accountId=n,this.formBuilder=o,this.elementID="payment-element",this.stripe=null,this.elements=void 0,this.paymentElement=null,this.subscription=null,this.submit=null,this.submitReadyText="Subscribe",this.submitProcessingText="Please wait...",l((function(){return t(s,void 0,void 0,(function(){var e,t;return r(this,(function(r){switch(r.label){case 0:return e=a._stripeLiveKey,a.debug&&(e=a._stripeTestKey),t=this,[4,$(e,{stripeAccount:this.accountId})];case 1:return t.stripe=r.sent(),[2]}}))}))}))}return e.prototype.show=function(e,i,n,o){return t(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:return this.formBuilder.emit("payment_form_initialized",{paymentProvider:"stripe",event:{selector:L}}),(t=document.querySelector("#submit"))?(this.submit=t,this.setButtonState("loading"),""!==this.submit.innerText&&(this.submitReadyText=this.submit.innerText),u("Create stripe subscription",e),[4,this.createSubscription(e,i,n)]):(c('Submit button is required. Add <button id="submit">Pay</button>'),[2]);case 1:return r.sent(),this.initStripe(),this.paymentElement?this.subscription?(this.setupForm(o),this.paymentElement.mount("#"+this.elementID),[2]):(c("Subscription was not created"),[2]):(c("Payment element was not created"),[2])}}))}))},e.prototype.setButtonState=function(e){if(this.submit)switch(e){case"loading":this.submit.setAttribute("disabled","disabled");break;case"ready":this.submit.removeAttribute("disabled"),this.submit.innerText=this.submitReadyText;break;case"processing":this.submit.setAttribute("disabled","disabled"),this.submit.innerText=this.submitProcessingText}else c("Submit button not found. Failed to set state:",e)},e.prototype.createSubscription=function(e,i,n){return t(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:return t=this,[4,O(this.providerId,{product_id:e,paywall_id:i,placement_id:n,user_id:this.user.id})];case 1:return t.subscription=r.sent(),this.subscription?u("Subscription created",this.subscription):c("Subscription was not created for price_id",e),[2]}}))}))},e.prototype.initStripe=function(){var e=this;this.stripe?(this.elements=this.stripe.elements({clientSecret:this.subscription.client_secret,loader:"always"}),this.paymentElement=this.elements.create("payment"),this.paymentElement.on("loaderror",(function(t){e.setButtonState("ready");var r=document.querySelector("#card-errors");r&&t&&(t.error?r.textContent=t.error.message||"":r.textContent="")})),this.paymentElement.on("ready",(function(t){e.setButtonState("ready"),e.formBuilder.emit("payment_form_ready",{paymentProvider:"stripe",event:t})}))):c("No stripe initialized")},e.prototype.setupForm=function(e){var n=this,o=document.querySelector(L);o?o.addEventListener("submit",(function(o){return t(n,void 0,void 0,(function(){var t,n,s,l;return r(this,(function(r){switch(r.label){case 0:return o.preventDefault(),this.setButtonState("processing"),this.stripe?this.elements?[4,null===(l=this.elements)||void 0===l?void 0:l.submit()]:(c("Stripe: elements not initialized"),[2]):(c("Stripe: not initialized"),[2]);case 1:return r.sent(),u("elements",this.elements),[4,this.stripe.confirmPayment({elements:this.elements,clientSecret:this.subscription.client_secret,confirmParams:{return_url:document.location.href},redirect:"if_required"})];case 2:return(t=r.sent().error)?(this.formBuilder.emit("payment_failure",{paymentProvider:"stripe",event:{error:t}}),u("payment failed",t),(n=document.querySelector("#error-message"))&&(n.textContent=t.message||""),this.setButtonState("ready")):(this.formBuilder.emit("payment_success",{paymentProvider:"stripe",event:{user_id:this.user.id}}),(s=this.subscription.deep_link)&&i(N,s,R),setTimeout((function(){(null==e?void 0:e.successUrl)?document.location.href=null==e?void 0:e.successUrl:document.location.href="https://getapp.apphud.com/"+s}),a.redirectDelay)),[2]}}))}))})):c("Payment form: no form provided")},e}();function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ie(){ie=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,i){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new D(i||[]);return n(a,"_invoke",{value:k(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",f="executing",m="completed",b={};function v(){}function w(){}function y(){}var g={};c(g,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(I([])));x&&x!==r&&i.call(x,a)&&(g=x);var P=y.prototype=v.prototype=Object.create(g);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(n,o,a,s){var u=d(e[n],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&i.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;n(this,"_invoke",{value:function(e,i){function n(){return new t((function(t,n){r(e,i,t,n)}))}return o=o?o.then(n,n):n()}})}function k(t,r,i){var n=p;return function(o,a){if(n===f)throw new Error("Generator is already running");if(n===m){if("throw"===o)throw a;return{value:e,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var u=O(s,i);if(u){if(u===b)continue;return u}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===p)throw n=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=f;var c=d(t,r,i);if("normal"===c.type){if(n=i.done?m:h,c.arg===b)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n=m,i.method="throw",i.arg=c.arg)}}}function O(t,r){var i=r.method,n=t.iterator[i];if(n===e)return r.delegate=null,"throw"===i&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==i&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+i+"' method")),b;var o=d(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,b;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function r(){for(;++n<t.length;)if(i.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return w.prototype=y,n(P,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:w,configurable:!0}),w.displayName=c(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,u,"GeneratorFunction")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},E(S.prototype),c(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,i,n,o){void 0===o&&(o=Promise);var a=new S(l(e,r,i,n),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(P),c(P,u,"Generator"),c(P,a,(function(){return this})),c(P,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var i in t)r.push(i);return r.reverse(),function e(){for(;r.length;){var i=r.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=I,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(i,n){return s.type="throw",s.arg=t,r.next=i,n&&(r.method="next",r.arg=e),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var i=r.completion;if("throw"===i.type){var n=i.arg;A(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,i){return this.delegate={iterator:I(t),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=e),b}},t}function ne(e,t,r,i,n,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(i,n)}function oe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var se,ue,ce,le,de,pe,he="https://cdn.paddle.com/paddle/v2/paddle.js";function fe(){return void 0!==se?se:se=new Promise((function(e,t){if("undefined"!=typeof window)if(window.Paddle)e(window.Paddle);else try{var r=document.querySelector('script[src="'.concat(he,'"]'))||void 0;r||(r=function(e){var t=document.createElement("script");t.src=e;var r=document.head||document.body;if(!r)throw new Error("Cannot inject Paddle.js. It needs a <head> or <body> element.");return r.appendChild(t),t}(he)),r.addEventListener("load",(function(){window.Paddle?e(window.Paddle):t(new Error("Paddle.js not available"))})),r.addEventListener("error",(function(){t(new Error("Failed to load Paddle.js"))}))}catch(e){return void t(e)}else e(void 0)}))}!function(e){e.CHECKOUT_LOADED="checkout.loaded",e.CHECKOUT_CLOSED="checkout.closed",e.CHECKOUT_UPDATED="checkout.updated",e.CHECKOUT_COMPLETED="checkout.completed",e.CHECKOUT_ERROR="checkout.error",e.CHECKOUT_FAILED="checkout.failed",e.CHECKOUT_ITEMS_UPDATED="checkout.items.updated",e.CHECKOUT_ITEMS_REMOVED="checkout.items.removed",e.CHECKOUT_CUSTOMER_CREATED="checkout.customer.created",e.CHECKOUT_CUSTOMER_UPDATED="checkout.customer.updated",e.CHECKOUT_CUSTOMER_REMOVED="checkout.customer.removed",e.CHECKOUT_PAYMENT_SELECTED="checkout.payment.selected",e.CHECKOUT_PAYMENT_INITIATED="checkout.payment.initiated",e.CHECKOUT_PAYMENT_FAILED="checkout.payment.failed",e.CHECKOUT_DISCOUNT_APPLIED="checkout.discount.applied",e.CHECKOUT_DISCOUNT_REMOVED="checkout.discount.removed"}(ue||(ue={})),function(e){e.DAY="day",e.WEEK="week",e.MONTH="month",e.YEAR="year"}(ce||(ce={})),function(e){e.ALIPAY="alipay",e.APPLE_PAY="apple-pay",e.CARD="card",e.GOOGLE_PAY="google-pay",e.IDEAL="ideal",e.PAYPAL="paypal",e.WIRE_TRANSFER="wire-transfer",e.NONE="none"}(le||(le={})),function(e){e.AMERICAN_EXPRESS="american_express",e.DINERS_CLUB="diners_club",e.DISCOVER="discover",e.JCB="jcb",e.MADA="mada",e.MAESTRO="maestro",e.MASTER_CARD="mastercard",e.UNION_PAY="union_pay",e.VISA="visa",e.UNKNOWN="unknown"}(de||(de={})),function(e){e.DRAFT="draft",e.READY="ready",e.COMPLETED="completed",e.BILLED="billed",e.canceled="canceled",e.PAST_DUE="past_due"}(pe||(pe={}));var me=["environment"];function be(e){return ve.apply(this,arguments)}function ve(){var e;return e=ie().mark((function e(t){var r,i,n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:if(!(r=e.sent)){e.next=8;break}if(t){i=t.environment,n=ae(t,me);try{i&&r.Environment.set(i),r.Initialized?r.Update(re({},n)):r.Initialize(re({},n))}catch(e){console.warn("Paddle Initialization failed. Please check the inputs",e)}}return e.abrupt("return",r);case 8:return console.warn("Error Loading Paddle"),e.abrupt("return");case 10:case"end":return e.stop()}}),e)})),ve=function(){var t=this,r=arguments;return new Promise((function(i,n){var o=e.apply(t,r);function a(e){ne(o,i,n,a,s,"next",e)}function s(e){ne(o,i,n,a,s,"throw",e)}a(void 0)}))},ve.apply(this,arguments)}var we=function(){function e(e,t,r){this.providerId=e,this.apiKey=t,this.formBuilder=r,this.elementID="payment-element",this.form=null,this.paddle=null}return e.prototype.show=function(e,i,n){return t(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:return u("selector",e),u("vendor",this.apiKey),u("paywallID",i),u("placementId",n),[4,be({environment:"sandbox",token:""})];case 1:return(t=r.sent())&&(this.paddle=t),[2]}}))}))},e}(),ye=function(){function e(e,t){this.provider=e,this.user=t,this.events={}}return e.prototype.show=function(e,i,n,o){return t(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:switch(this.provider.kind){case"stripe":t=new ee(this.user,this.provider.id,this.provider.identifier,this),u("Start stripe form for account_id:",this.provider.identifier);break;case"paddle":t=new we(this.provider.id,this.provider.identifier,this),u("Start paddle form for account_id:",this.provider.identifier);break;default:throw new Error("Unsupported type "+this.provider.kind)}return[4,t.show(e,i,n,o)];case 1:return r.sent(),[2]}}))}))},e.prototype.on=function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)},e.prototype.emit=function(e,t){this.events[e]&&this.events[e].forEach((function(e){return e(t)}))},e}(),ge=function(){function l(){this.placements=[],this.user=void 0,this.currentPaymentProvider=void 0,this._currentProduct=void 0,this._currentPlacement=void 0,this._currentPaywall=void 0,this.userID=void 0,this.hashedUserID=void 0,this.isReady=!1,this.queue=[],this.events={},this.eventQueue=[]}return l.prototype.init=function(e){return t(this,void 0,void 0,(function(){var i,o,s=this;return r(this,(function(l){for(i in u("init",e),e)Object.prototype.hasOwnProperty.call(e,i)&&(a[i]=e[i]);a.headers=k();try{for(this.eventQueue=JSON.parse(n(I)||"[]"),o=0;o<this.eventQueue.length;o++)this.trackEvent(this.eventQueue[o])}catch(e){c(e)}return h((function(){return t(s,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.initializeApp()];case 1:return e.sent(),[2]}}))}))})),[2]}))}))},l.prototype.on=function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)},l.prototype.emit=function(e,t){this.events[e]&&this.events[e].forEach((function(e){return e(t)}))},l.prototype.getDeepLink=function(){return n(N)},l.prototype.getUserID=function(){var e=n(D);if(e)return e},l.prototype.reset=function(){return o(D),o(I),!0},l.prototype.track=function(e,t,r){var i=this,n={name:e,properties:t||{},user_properties:r||{},timestamp:g(),insert_id:f()};return u("event",n),this.ready((function(){n.user_id=i.getUserID(),n.device_id=i.getUserID(),i.eventQueue.push(n),i.saveEventQueue(),setTimeout((function(){i.trackEvent(n)}),1e3)})),!0},l.prototype.setEmail=function(e){return t(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:return[4,this.createUser({email:e},!0)];case 1:return(t=r.sent())&&(this.user=t),[2]}}))}))},l.prototype.initializeApp=function(){return t(this,arguments,void 0,(function(e){var t;return void 0===e&&(e=!0),r(this,(function(r){switch(r.label){case 0:return[4,this.createUser(null,!1)];case 1:return(t=r.sent())&&(this.user=t),this.setPlacementsAndProducts(),this.setPaymentProvider(),this.operateVariables(),this.operateAttribution(),this.setReady(e),[2]}}))}))},l.prototype.paymentForm=function(e,i){var n=this;this.ready((function(){return t(n,void 0,void 0,(function(){var t,n,o=this;return r(this,(function(r){switch(r.label){case 0:return this.currentProduct()?this.currentPaywall()?this.currentPlacement()?(u("Initializing payment form with payment provider:",this.currentPaymentProvider),(t=i||this.currentProduct().base_plan_id)?this.currentPaymentProvider?this.user?(n=new ye(this.currentPaymentProvider,this.user),["payment_form_initialized","payment_form_ready","payment_failure","payment_success"].forEach((function(e){n.on(e,(function(t){o.emit(e,t)}))})),u("Show payment form for product:",t),[4,n.show(t,this.currentPaywall().id,this.currentPlacement().id,e)]):(c("Payment form: no user"),[2]):(c("Unable to initializeApp the payment form because the payment provider is absent."),[2]):(c("Unable to initializeApp the payment form because the product is absent."),[2])):(c("Payment form: placement is required"),[2]):(c("Payment form: paywall is required"),[2]):(c("Payment form: product is required"),[2]);case 1:return r.sent(),[2]}}))}))}))},l.prototype.selectPlacementProduct=function(e,t){u("Save placement and product",e,t),this.setCurrentItems(e,t),i(j,"".concat(e,",").concat(t),R),this.emit("product_changed",this.currentProduct())},l.prototype.setAttribution=function(e){u("SetAttribution",e,this.getUserID()),T(this.getUserID(),e).then((function(e){return u("Attribution set",e)}))},l.prototype.operateAttribution=function(){var e=this;u("Prepare Attribution");var t={};this.ready((function(){var r=e.prepareApphudAttributionData();r&&(t.apphud_attribution_data=r);var i=e.retrieveGtagClientID();i&&(u("gtag client_id:",i),t.firebase_id=i),void 0!==window.fbq&&(t.facebook_data={fbp:n("_fbp"),fbc:n("_fbc")},e.hashedUserID&&(console.log("set external_id to fb: ",e.hashedUserID),window.fbq("trackCustom","ApphudInit",{external_id:e.hashedUserID}))),e.setAttribution(t)}))},l.prototype.prepareApphudAttributionData=function(){var e=this.getQueryParamsAsJson();return e.user_agent=navigator.userAgent,e},l.prototype.retrieveGtagClientID=function(){return void 0!==window.gaGlobal?window.gaGlobal.vid:null},l.prototype.getQueryParamsAsJson=function(){var e=new URLSearchParams(window.location.search),t={};return e.forEach((function(e,r){t[r]?Array.isArray(t[r])?t[r].push(e):t[r]=[t[r],e]:t[r]=e})),t},l.prototype.setPaymentProvider=function(){var e=this;this.ready((function(){var t,r=(null===(t=e.user)||void 0===t?void 0:t.payment_providers)||[];r.length>0&&(e.currentPaymentProvider=r[0],u("Set payment provider:",e.currentPaymentProvider))}))},l.prototype.setLanguage=function(e){a.language=e},l.prototype.setPlacementsAndProducts=function(){var e=this;this.ready((function(){var t;e.placements=(null===(t=e.user)||void 0===t?void 0:t.placements)||[],u("Placements",e.placements);var r=e.getSavedPlacementProductIndex();r.placementID&&e.setCurrentItems(r.placementID,r.productIndex)}))},l.prototype.setReady=function(e){var t;for(void 0===e&&(e=!1),u("set ready");t=this.queue.shift();)t();this.isReady=!0,e&&this.emit("ready",this)},l.prototype.saveEventQueue=function(){s&&i(I,JSON.stringify(this.eventQueue),1)},l.prototype.eventData=function(e){var t={events:[e],device_id:e.device_id,user_id:e.user_id};return delete e.device_id,delete e.user_id,t},l.prototype.trackEvent=function(e){var i=this;this.ready((function(){return t(i,void 0,void 0,(function(){var t=this;return r(this,(function(r){return S(this.eventData(e)).then((function(){for(var r=0;r<t.eventQueue.length;r++)if(t.eventQueue[r].id===e.id){t.eventQueue.splice(r,1);break}t.saveEventQueue(),t.initializeApp(!1)})),[2]}))}))}))},l.prototype.createUser=function(e,o){return t(this,void 0,void 0,(function(){var t,s;return r(this,(function(r){switch(r.label){case 0:return this.isReady=o,this.userID=this.getUserID(),t=this,[4,d(this.userID)];case 1:return t.hashedUserID=r.sent(),this.userID||(this.userID=f(),n(A)||i(A,a.websiteVersion,U),i(D,this.userID,U)),s=this.userParams({}),document.referrer.length>0&&(s.referrer=document.referrer),u("user",s),e&&(s=Object.assign(s,e)),[4,E(s)];case 2:return[2,r.sent()]}}))}))},l.prototype.userParams=function(t){var r=new B(navigator.userAgent);return e({user_id:this.userID,locale:m(),time_zone:b(),is_sandbox:a.debug,is_debug:a.debug,currency_code:v(),country_iso_code:w(),country_code:w(),device_id:this.userID,device_type:r.getDevice().model,device_family:r.getDevice().model,platform:"web2web",os_version:r.getOS().version||y(),app_version:a.websiteVersion,start_app_version:n(A)||a.websiteVersion,need_paywalls:!0,need_placements:!0,page_url:window.location.href,user_agent:navigator.userAgent},t)},l.prototype.operateVariables=function(){var e=this;this.ready((function(){u("Operate variables"),document.querySelectorAll("[".concat(C,"]")).forEach((function(t){var r=t.getAttribute(C);if(r){var i=e.readVariableValueByKeyPath(r);u("Replace variable,",r,i),i&&(t.innerHTML=i)}}))}))},l.prototype.getSavedPlacementProductIndex=function(){var e=n(j);if(null!==e){var t=e.split(",").map((function(e){return e.trim()}));if(2===t.length)return{placementID:t[0],productIndex:parseInt(t[1])}}return{placementID:void 0,productIndex:0}},l.prototype.readVariableValueByKeyPath=function(e){var t=e.split(",").map((function(e){return e.trim()})),r=void 0,i=0,n=t[t.length-1];if(3==t.length)r=t[0],i=parseInt(t[1]),(null===r||i<0)&&(r=(o=this.getSavedPlacementProductIndex()).placementID,i=o.productIndex);else if(1===t.length){var o;r=(o=this.getSavedPlacementProductIndex()).placementID,i=o.productIndex}var a=this.findPlacementByID(r);if(!a)return u("placement not found with id: ",r),null;u("Placement",r,i);var s=a.paywalls[0].items[i];return null!=s&&void 0!==s.properties?_(s.properties,n):null},l.prototype.findPlacementByID=function(e){return this.placements.find((function(t){return t.identifier===e}))},l.prototype.setCurrentItems=function(e,t){this._currentPlacement=this.findPlacementByID(e),null!==this._currentPlacement&&void 0!==this._currentPlacement&&this._currentPlacement.paywalls.length>0&&(this._currentPaywall=this._currentPlacement.paywalls[0],this._currentProduct=this._currentPaywall.items[t],u("Current placement",this._currentPlacement),u("Current paywall",this._currentPaywall),u("Current product",this._currentProduct))},l.prototype.currentProduct=function(){if(this._currentProduct)return this._currentProduct;var e=this.currentPaywall();return null!=e?e.items[0]:null},l.prototype.currentPlacement=function(){if(this._currentPlacement)return this._currentPlacement;var e=this.placements[0];return null!=e?e:null},l.prototype.currentPaywall=function(){if(this._currentPaywall)return this._currentPaywall;var e=this.currentPlacement();return null!=e?e.paywalls[0]:null},l.prototype.ready=function(e){this.isReady?e():(u("not ready push to queue",e),this.queue.push(e))},l}(),_e=new ge;return window.ApphudSDK=_e,_e}));
